# 02 - MVP Architecture

이 문서는 MVP 단계의 전체 시스템 구조를 설명한다.

---

## 1. 전체 처리 흐름

사용자 → 이미지 업로드 → Job 생성 → 처리 → 결과 반환

---

## 2. 단계별 구조

### 2.1 업로드 단계

- 사용자가 여러 이미지를 업로드한다.
- 서버는 Job ID를 생성한다.
- 업로드 파일은 다음 위치에 저장된다:

data/jobs/<job_id>/uploads/

---

### 2.2 품질 검사 단계 (예정)

다음 조건을 자동 검사한다:

- 얼굴 존재 여부
- 얼굴 크기
- 흐림 정도
- 밝기
- 정면 여부

기준을 통과하지 못하면 해당 이미지는 제외된다.

---

### 2.3 편집 단계 (예정)

품질 검사를 통과한 이미지에 대해:

- 얼굴 정렬
- 배경 제거 및 단색 배경 합성
- 규격에 맞는 크롭
- 이미지 리사이즈

---

### 2.4 출력 단계

최종 생성 파일:

- id_photo.jpg
- report.json

report.json에는 다음 정보가 포함된다:

- 통과 이미지 목록
- 거부 이미지 목록 및 사유
- 최종 검증 결과

---

## 3. 설계 원칙

- 각 단계는 독립적인 모듈로 구현
- Job 단위로 파일 관리
- 디버깅 가능 구조 유지
- 확장 가능한 아키텍처 설계